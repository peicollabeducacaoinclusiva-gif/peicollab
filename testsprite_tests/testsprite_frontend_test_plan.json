[
  {
    "id": "TC001",
    "title": "Authentication Success for Each Role",
    "description": "Verify successful login and role-based routing for all defined roles: superadmin, education_secretary, school_director, coordinator, teacher, family, specialist, aee_teacher.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page."
      },
      {
        "type": "action",
        "description": "Input valid credentials for each role."
      },
      {
        "type": "action",
        "description": "Click the login button."
      },
      {
        "type": "assertion",
        "description": "Confirm user is routed to the correct dashboard corresponding to their role."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Authentication Failure with Incorrect Credentials",
    "description": "Ensure login fails properly when invalid credentials are used and appropriate error messages display.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page."
      },
      {
        "type": "action",
        "description": "Input invalid username/email and/or password."
      },
      {
        "type": "action",
        "description": "Click the login button."
      },
      {
        "type": "assertion",
        "description": "Verify authentication is rejected and error notification is displayed."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Role-Based Access Control Enforcement",
    "description": "Validate that users can only access features and data permitted by their role with row-level security enforced.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as user with specific role."
      },
      {
        "type": "action",
        "description": "Attempt to access restricted dashboards, PEIs, and administrative functions."
      },
      {
        "type": "assertion",
        "description": "Confirm access is denied where appropriate and allowed features are accessible."
      },
      {
        "type": "action",
        "description": "Inspect database queries or API calls to verify row-level security policies block unauthorized data."
      },
      {
        "type": "assertion",
        "description": "Confirm no unauthorized data is returned."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Create PEI with Multi-Teacher Assignment",
    "description": "Verify that a teacher or coordinator can create a PEI and assign multiple teachers (one primary, others complementary) correctly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a teacher assigned to a student."
      },
      {
        "type": "action",
        "description": "Navigate to Create PEI page."
      },
      {
        "type": "action",
        "description": "Fill in required PEI sections for the student."
      },
      {
        "type": "action",
        "description": "Add multiple teachers (primary and complementary) based on student enrollment."
      },
      {
        "type": "action",
        "description": "Save the PEI."
      },
      {
        "type": "assertion",
        "description": "Confirm PEI is saved with correct teacher roles assigned."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "PEI Versioning Ensures Single Active Version Per Student",
    "description": "Check the system automatically maintains only one active PEI version per student and retains complete version history.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create initial PEI for a student."
      },
      {
        "type": "action",
        "description": "Create a new PEI version for the same student."
      },
      {
        "type": "assertion",
        "description": "Verify the new PEI is set as active and previous is marked inactive."
      },
      {
        "type": "action",
        "description": "Access version history dialog for the student."
      },
      {
        "type": "assertion",
        "description": "Confirm all previous PEI versions are listed with snapshots and status."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "PEI Approval Workflow and Notification Delivery",
    "description": "Validate that PEI submissions trigger notifications to appropriate roles and approval updates propagate correctly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Teacher submits a PEI for approval."
      },
      {
        "type": "assertion",
        "description": "Verify notification is created and delivered in real-time to coordinator or approver."
      },
      {
        "type": "action",
        "description": "Approver opens notification and approves the PEI."
      },
      {
        "type": "assertion",
        "description": "Confirm PEI status is updated and notification is sent back to the teacher."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Offline Data Caching and Synchronization",
    "description": "Test offline usage with IndexedDB caching (Dexie.js), editing PEIs offline, and automatic sync with conflict resolution upon reconnection.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login and load dashboard while online."
      },
      {
        "type": "action",
        "description": "Disconnect network to simulate offline."
      },
      {
        "type": "action",
        "description": "Create or edit PEI offline."
      },
      {
        "type": "assertion",
        "description": "Verify UI shows changes pending sync indicator."
      },
      {
        "type": "action",
        "description": "Reconnect network."
      },
      {
        "type": "assertion",
        "description": "Confirm changes are automatically synchronized with backend."
      },
      {
        "type": "assertion",
        "description": "Verify no data conflicts remain and UI updates correctly."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "User Profile Editing and Avatar Customization",
    "description": "Verify that users can update their personal information and customize avatars with emojis and colors, and changes persist across sessions.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login and navigate to profile page."
      },
      {
        "type": "action",
        "description": "Edit name, phone number, and select a new emoji and color for avatar."
      },
      {
        "type": "action",
        "description": "Save profile changes."
      },
      {
        "type": "assertion",
        "description": "Verify modifications are saved and avatar previews update accordingly."
      },
      {
        "type": "action",
        "description": "Logout and login again."
      },
      {
        "type": "assertion",
        "description": "Confirm profile and avatar changes are persisted."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Family Access Token Generation and Validation",
    "description": "Test generation of family access tokens by coordinator, the tokens’ expiration control, and secure access to specific PEIs by families.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as coordinator and generate a family access token with expiry."
      },
      {
        "type": "assertion",
        "description": "Confirm token creation and expiry settings are saved."
      },
      {
        "type": "action",
        "description": "Access PEI with valid token via family user."
      },
      {
        "type": "assertion",
        "description": "Verify PEI access is granted only within token validity period."
      },
      {
        "type": "action",
        "description": "Attempt to access PEI after token expiration."
      },
      {
        "type": "assertion",
        "description": "Confirm access is denied."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Multi-Tenant Data Separation Enforcement",
    "description": "Ensure tenant, school, student, and PEI data are properly isolated with no data leaks across tenants or schools.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as user belonging to one tenant and school."
      },
      {
        "type": "action",
        "description": "Attempt to access data belonging to another tenant or school via direct URL or API."
      },
      {
        "type": "assertion",
        "description": "Confirm access is denied and no data is visible."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Responsive UI on Mobile and Desktop",
    "description": "Verify that dashboards and key interfaces adapt correctly on various screen sizes, including navigation and tab layouts.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Open application on desktop screen."
      },
      {
        "type": "assertion",
        "description": "Verify all UI elements display correctly with desktop layouts (multi-tab views, side navigation)."
      },
      {
        "type": "action",
        "description": "Open application on mobile device or emulator."
      },
      {
        "type": "assertion",
        "description": "Confirm navigation drawer, tabs, and calendar adapt to mobile sizes and usability."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "PDF Generation and Print of PEIs",
    "description": "Test on-demand generation of formatted PEI PDF documents using jsPDF including viewer modal and print functionality.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to a saved PEI."
      },
      {
        "type": "action",
        "description": "Open PDF preview of the PEI."
      },
      {
        "type": "assertion",
        "description": "Confirm the PDF content is correctly formatted and contains all required PEI data."
      },
      {
        "type": "action",
        "description": "Trigger print action from the PDF view."
      },
      {
        "type": "assertion",
        "description": "Ensure print preview is displayed and prints successfully."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Custom Network Logo Upload and Display",
    "description": "Verify that education secretaries can upload a custom network logo, which is stored securely and displayed in dashboards.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as education secretary."
      },
      {
        "type": "action",
        "description": "Navigate to network settings and upload a new logo."
      },
      {
        "type": "assertion",
        "description": "Confirm the logo uploads successfully and is stored in Supabase Storage."
      },
      {
        "type": "action",
        "description": "Access dashboards of various roles within the network."
      },
      {
        "type": "assertion",
        "description": "Verify the uploaded logo appears correctly in the header with fallback to default if not set."
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Dark Mode Toggle Persistence",
    "description": "Test the dark mode toggle control, verify UI theme changes correctly and persists across sessions.",
    "category": "ui",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Toggle dark mode via UI control."
      },
      {
        "type": "assertion",
        "description": "Confirm UI updates to dark theme immediately."
      },
      {
        "type": "action",
        "description": "Reload the page."
      },
      {
        "type": "assertion",
        "description": "Verify dark mode setting is persisted and reapplied."
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Real-Time Notifications with Action Handlers",
    "description": "Ensure real-time notifications are received for PEI lifecycle events and support actions such as marking as read and deletion.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Trigger PEI events (creation, approval, rejection) by relevant users."
      },
      {
        "type": "assertion",
        "description": "Check notifications appear instantly with correct content and counters update."
      },
      {
        "type": "action",
        "description": "Navigate to notifications page."
      },
      {
        "type": "action",
        "description": "Perform actions: mark notifications as read and delete notifications."
      },
      {
        "type": "assertion",
        "description": "Confirm notifications update accordingly in UI and counters reflect state."
      }
    ]
  },
  {
    "id": "TC016",
    "title": "System Logging and Audit Trails",
    "description": "Verify that all critical events including PEI creation, updates, access attempts, token usage are correctly logged with timestamps and user info.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Perform PEI operations: create, edit, approve, and delete."
      },
      {
        "type": "action",
        "description": "Attempt unauthorized data access."
      },
      {
        "type": "assertion",
        "description": "Review system logs or audit trail records to confirm all critical events are captured accurately with user identity and timestamps."
      }
    ]
  },
  {
    "id": "TC017",
    "title": "PWA Installation and Service Worker Offline Caching",
    "description": "Test Progressive Web App installation prompt, offline caching via service worker, and app functionality without network connectivity.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Access app via a supported browser."
      },
      {
        "type": "assertion",
        "description": "Verify installation prompt for PWA appears."
      },
      {
        "type": "action",
        "description": "Install the application as PWA."
      },
      {
        "type": "action",
        "description": "Go offline and navigate through cached pages and perform offline operations."
      },
      {
        "type": "assertion",
        "description": "Confirm app works without errors and caches resources correctly."
      }
    ]
  },
  {
    "id": "TC018",
    "title": "Coordinator's PEI Queue Management and Token Generation",
    "description": "Validate coordinator’s ability to view queue of PEIs for validation, request new PEIs, assign class teachers and generate family tokens successfully.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as coordinator."
      },
      {
        "type": "action",
        "description": "Open PEI validation queue and review list entries."
      },
      {
        "type": "action",
        "description": "Request PEIs and assign teachers to classes."
      },
      {
        "type": "action",
        "description": "Generate access tokens for family members."
      },
      {
        "type": "assertion",
        "description": "Confirm queue updates correctly, assignments persist, and tokens are generated with expected properties."
      }
    ]
  },
  {
    "id": "TC019",
    "title": "Student and Enrollment Management Historical Records",
    "description": "Test creation and updating of student records with enrollment history and check controlled access according to assigned teachers.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Add new student with enrollment information including year, class, shift."
      },
      {
        "type": "action",
        "description": "Update enrollment details for existing students."
      },
      {
        "type": "assertion",
        "description": "Verify historical enrollment data is retained and accessible."
      },
      {
        "type": "action",
        "description": "Login as teacher and attempt to access students they are assigned to."
      },
      {
        "type": "assertion",
        "description": "Confirm access to assigned students is allowed and blocked for others."
      }
    ]
  },
  {
    "id": "TC020",
    "title": "Global and Role-Specific Reporting Accuracy and Export",
    "description": "Ensure statistical reports for global superadmin and role-specific reports generate correct analytics and export to CSV/Excel formats without data leaks.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as superadmin and access global reports."
      },
      {
        "type": "assertion",
        "description": "Verify reports are accurate and include all networks."
      },
      {
        "type": "action",
        "description": "Login as coordinator and access role-specific analytics."
      },
      {
        "type": "assertion",
        "description": "Confirm reports show filtered data only relevant to user's role and tenant."
      },
      {
        "type": "action",
        "description": "Export reports to CSV or Excel."
      },
      {
        "type": "assertion",
        "description": "Validate exported files contain correct data and formats."
      }
    ]
  }
]
