[
  {
    "id": "TC001",
    "title": "Multi-role Authentication Success",
    "description": "Verify users can successfully log in with valid credentials for all defined roles and access the correct role-based dashboard.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page."
      },
      {
        "type": "action",
        "description": "Input valid username/email and password for each user role (superadmin, coordinator, teacher, family, education secretary, school director, specialist, aee_teacher)."
      },
      {
        "type": "action",
        "description": "Click the login button."
      },
      {
        "type": "assertion",
        "description": "Check that login is successful and the dashboard corresponds to the user's role."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Multi-role Authentication Failure",
    "description": "Verify that the system denies access when users enter invalid credentials or attempt unauthorized role access.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page."
      },
      {
        "type": "action",
        "description": "Input invalid credentials or select an unauthorized role."
      },
      {
        "type": "action",
        "description": "Click the login button."
      },
      {
        "type": "assertion",
        "description": "Verify the login fails and appropriate error message is displayed."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "PEI Creation and Versioning Workflow",
    "description": "Verify that authorized users can create, edit, submit, and approve PEIs with automatic version control ensuring only one active version per student.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as an authorized user (e.g., coordinator or specialist)."
      },
      {
        "type": "action",
        "description": "Navigate to the PEI creation page."
      },
      {
        "type": "action",
        "description": "Fill out PEI sections including diagnosis, planning, referrals, goals, specialist orientations, meetings, and evaluations."
      },
      {
        "type": "action",
        "description": "Submit the PEI for approval."
      },
      {
        "type": "assertion",
        "description": "Verify that a new version is created and saved with status as submitted."
      },
      {
        "type": "action",
        "description": "Log in as an approver role."
      },
      {
        "type": "action",
        "description": "Approve the submitted PEI version."
      },
      {
        "type": "assertion",
        "description": "Verify the version status changes to approved and that only one active (approved) version exists per student."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "PEI Editing and Audit Logging",
    "description": "Verify all changes to PEIs are logged with user context and timestamp for auditability and traceability.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as a user authorized to edit PEIs."
      },
      {
        "type": "action",
        "description": "Modify existing PEI details and save."
      },
      {
        "type": "assertion",
        "description": "Verify that the audit logs capture the modification event, including the user identifier, changed fields, and timestamp."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Role-based Access Control Enforcement",
    "description": "Verify users only access data and features permitted by their assigned roles and hierarchical tenant membership with row level security enforced.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as multiple users in different roles spanning networks, schools, and tenants."
      },
      {
        "type": "action",
        "description": "Attempt to access PEIs, students, or management functions outside the user's permitted scope."
      },
      {
        "type": "assertion",
        "description": "Verify access is denied or UI elements are hidden, and no unauthorized data leakage occurs at the database level."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Family Access Token Generation and Expiry",
    "description": "Verify family access tokens are issued correctly, allow PEI access, and expire after the set timeframe restricting access as expected.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as coordinator or authorized user."
      },
      {
        "type": "action",
        "description": "Generate a temporary access token for a family's PEI access."
      },
      {
        "type": "assertion",
        "description": "Verify the token allows the family to view their child's PEI successfully."
      },
      {
        "type": "action",
        "description": "Attempt access with an expired token after the expiration period."
      },
      {
        "type": "assertion",
        "description": "Verify access is denied and the family user sees an appropriate expiration message."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Offline-first Data Access and Synchronization",
    "description": "Verify the offline-first capability supports data access and editing when offline and that data syncs correctly and without conflicts upon reconnect.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in and load PEI and student data while online to populate local cache."
      },
      {
        "type": "action",
        "description": "Simulate offline mode and continue viewing and editing PEIs."
      },
      {
        "type": "assertion",
        "description": "Verify data modifications are saved locally and accessible."
      },
      {
        "type": "action",
        "description": "Restore connectivity and wait for automatic synchronization."
      },
      {
        "type": "assertion",
        "description": "Verify local changes sync to the server without data loss or conflicts."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Progressive Web App (PWA) Features",
    "description": "Verify PWA capabilities including install prompt, service worker caching, offline fallback, and push notifications function on supported devices.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Access the platform via supported browser on desktop and mobile."
      },
      {
        "type": "assertion",
        "description": "Verify the app prompts for PWA installation."
      },
      {
        "type": "action",
        "description": "Install the PWA."
      },
      {
        "type": "action",
        "description": "Simulate offline usage."
      },
      {
        "type": "assertion",
        "description": "Verify cached content loads with offline fallback."
      },
      {
        "type": "action",
        "description": "Trigger a push notification via backend simulation."
      },
      {
        "type": "assertion",
        "description": "Verify the push notification is received and displayed correctly on device."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Responsive Mobile-first UI Rendering",
    "description": "Verify the user interface renders correctly across various screen sizes, with optimized navigation and layout for mobile devices.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Access the platform using devices or emulators with different screen sizes (mobile, tablet, desktop)."
      },
      {
        "type": "assertion",
        "description": "Verify UI components adapt responsively without layout breakage."
      },
      {
        "type": "assertion",
        "description": "Verify navigation and interactive elements are usable and optimized on mobile screen sizes."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "CSV Bulk Import and Export Functionality",
    "description": "Verify CSV import and export features for students and users handle large datasets with validation and provide appropriate error messages on invalid data.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Log in as superadmin or authorized user."
      },
      {
        "type": "action",
        "description": "Attempt to export users and students data to CSV."
      },
      {
        "type": "assertion",
        "description": "Verify the exported CSV contains correctly formatted data."
      },
      {
        "type": "action",
        "description": "Upload a valid CSV file for import."
      },
      {
        "type": "assertion",
        "description": "Verify new records are created or updated accordingly."
      },
      {
        "type": "action",
        "description": "Upload an invalid or malformed CSV."
      },
      {
        "type": "assertion",
        "description": "Verify validation triggers and meaningful error messages are shown without data corruption."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Audit and Logging Verification",
    "description": "Verify that the audit and logging system accurately records all significant user actions and data changes with detailed version and access history.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Perform various user actions including login, PEI edits, approvals, and accesses."
      },
      {
        "type": "action",
        "description": "Access the audit logs through the provided UI component."
      },
      {
        "type": "assertion",
        "description": "Verify logs display accurate user context, action details, timestamps, and versioning information."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "PEI Meetings and Notifications",
    "description": "Verify the system schedules PEI-related meetings, sends notifications, and allows user participation.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Create a PEI meeting as a coordinator or authorized user."
      },
      {
        "type": "assertion",
        "description": "Verify meeting is saved and associated with the correct PEI."
      },
      {
        "type": "action",
        "description": "Log in as a participant user role."
      },
      {
        "type": "assertion",
        "description": "Verify notifications about the meeting are received."
      },
      {
        "type": "action",
        "description": "Join the meeting via the platform."
      },
      {
        "type": "assertion",
        "description": "Verify successful participation and meeting functionalities."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Gamified Student Interface Functionality",
    "description": "Verify the gamified features display achievements and interactive activities properly for students.",
    "category": "functional",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Log in as a student."
      },
      {
        "type": "assertion",
        "description": "Verify the gamified dashboard shows achievement progress and available activities."
      },
      {
        "type": "action",
        "description": "Participate in a gamified activity."
      },
      {
        "type": "assertion",
        "description": "Verify activity completion updates achievements and interface accordingly."
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Tutorial and Onboarding Experience",
    "description": "Verify that the tutorial system displays onboarding steps to new users and guides them effectively through platform navigation and features.",
    "category": "ui",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Log in as a new user who has not completed onboarding."
      },
      {
        "type": "assertion",
        "description": "Verify tutorial cards appear and guide the user through key features."
      },
      {
        "type": "action",
        "description": "Complete tutorial steps."
      },
      {
        "type": "assertion",
        "description": "Verify tutorial completion is recorded and tutorial does not show again upon subsequent logins."
      }
    ]
  }
]
